# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET     /                                        com.advancedtelematic.controllers.Application.index

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file                            controllers.Assets.versioned(path="/public", file: Asset)

GET     /api/v1/provisioning/status              com.advancedtelematic.controllers.ProvisioningController.provisioningStatus
GET     /api/v1/provisioning                     com.advancedtelematic.controllers.ProvisioningController.provisioningInfo
PUT     /api/v1/provisioning/activate            com.advancedtelematic.controllers.ProvisioningController.activateAutoProvisioning
POST    /api/v1/provisioning/credentials/registration       com.advancedtelematic.controllers.ProvisioningController.credentialsRegistration
GET     /api/v1/provisioning/credentials/registration       com.advancedtelematic.controllers.ProvisioningController.getCredentials
GET     /api/v1/provisioning/credentials/registration/:uuid com.advancedtelematic.controllers.ProvisioningController.downloadCredentials(uuid: UUID)

GET     /api/v1/clienttools/provisioning/:keyuuid com.advancedtelematic.controllers.ClientToolController.downloadClientToolBundle(keyuuid: UUID)

GET     /api/v1/features                         com.advancedtelematic.controllers.UserProfileController.getFeatures
PUT     /api/v1/features/:feature                com.advancedtelematic.controllers.UserProfileController.activateFeature(feature: FeatureName)
GET     /api/v1/features/:feature/client         com.advancedtelematic.controllers.UserProfileController.getFeatureClient(feature: FeatureName)

POST    /api/v1/setup                            com.advancedtelematic.controllers.NamespaceSetupController.setup(keyType: KeyType ?= RsaKeyType)
GET     /api/v1/setup                            com.advancedtelematic.controllers.NamespaceSetupController.status()

GET     /api/:version/*path                      com.advancedtelematic.controllers.Application.apiProxy(version: ApiVersion, path: String)
PUT     /api/:version/*path                      com.advancedtelematic.controllers.Application.apiProxy(version: ApiVersion, path: String)
POST    /api/:version/*path                      com.advancedtelematic.controllers.Application.apiProxy(version: ApiVersion, path: String)
DELETE  /api/:version/*path                      com.advancedtelematic.controllers.Application.apiProxy(version: ApiVersion, path: String)


GET     /login                                   com.advancedtelematic.controllers.LoginController.login
GET     /logout                                  com.advancedtelematic.controllers.LoginController.logout
GET     /account_confirmation                    com.advancedtelematic.controllers.LoginController.accountConfirmation
GET     /welcome                                 com.advancedtelematic.controllers.LoginController.accountActivated
GET     /callback                                com.advancedtelematic.controllers.OAuthOidcController.callback
GET     /authorization_error                     com.advancedtelematic.controllers.OAuthOidcController.authorizationError

GET     /health                                  com.advancedtelematic.controllers.HealthController.health
GET     /health/version                          com.advancedtelematic.controllers.HealthController.version

# User profile
GET     /user/profile                            com.advancedtelematic.controllers.UserProfileController.getUserProfile
PUT     /user/profile                            com.advancedtelematic.controllers.UserProfileController.updateUserProfile
PUT     /user/profile/billing_info               com.advancedtelematic.controllers.UserProfileController.updateBillingInfo
POST    /user/change_password                    com.advancedtelematic.controllers.UserProfileController.changePassword
GET     /user/*path                       com.advancedtelematic.controllers.UserProfileController.proxyRequest(path: String)
PUT     /user/*path                       com.advancedtelematic.controllers.UserProfileController.proxyRequest(path: String)

