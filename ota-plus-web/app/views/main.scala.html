@import com.advancedtelematic.auth.OAuthConfig
@import com.advancedtelematic.controllers.UiToggles
@import com.advancedtelematic.controllers.EnvironmentMode
@import play.filters.csrf.CSRF
@(config: OAuthConfig, csrf: Option[CSRF.Token], wsUrl: String, uiToggles: UiToggles, envMode: EnvironmentMode)()(implicit req: RequestHeader)
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>HERE OTA Connect</title>
    <meta name="description" content="HERE OTA Connect">
    <meta name="keywords" content="garage">
    <link rel="icon" href="/assets/img/icons/favicon.ico" type="image/x-icon" />
    <link href="/assets/css/style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <form id="logout" action="/logout">
    </form>
    <input type="hidden" id="csrf-token-val" value="@csrf.get.value"/>
    <input type="hidden" id="ws-url" value="@wsUrl"/>
    <script nonce="780ae1a1d847ffc">
      var nkT = {
        pName :"HERE OTA Connect",
        sCountry :"Global",
        sLang :"en"
      };
    </script>
    @if(envMode.isProd) {
      <script src="https://tags.tiqcdn.com/utag/here/otaconnect/prod/utag.js"></script>
    } else {
      <script src="https://tags.tiqcdn.com/utag/here/otaconnect/dev/utag.js"></script>
    }
    <input type="hidden" id="environment-dev" value="@{envMode.isDev}"/>
    <input type="hidden" id="environment-prod" value="@{envMode.isProd}"/>
    <input type="hidden" id="toggle-atsGarageTheme" value="@{uiToggles.atsGarageTheme}"/>
    <input type="hidden" id="toggle-autoFeatureActivation" value="@{uiToggles.autoFeatureActivation}"/>
    <!-- Hides user dropdown -->
    <input type="hidden" id="toggle-userProfileEdit" value="@{uiToggles.userProfileEdit}"/>
    <input type="hidden" id="toggle-userProfileMenu" value="@{uiToggles.userProfileMenu}"/>
    <!-- Hides provisioning keys -->
    <input type="hidden" id="toggle-credentialsDownload" value="@{uiToggles.credentialsDownload}"/>
    <div id="app"></div>
    <script src="@routes.Assets.versioned("js/app.js")"></script>
  </body>
</html>
