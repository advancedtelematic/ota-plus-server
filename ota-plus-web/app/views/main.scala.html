@import com.advancedtelematic.auth.OAuthConfig
@import com.advancedtelematic.controllers.UiToggles
@import play.filters.csrf.CSRF
@(config: OAuthConfig, csrf: Option[CSRF.Token], wsUrl: String, uiToggles: UiToggles)()(implicit req: RequestHeader)
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ATS Garage</title>
    <meta name="description" content="ATS Garage">
    <meta name="keywords" content="garage">
    <link href="/assets/css/style.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <form id="logout" action="https://@{config.domain}/v2/logout">
      <input type="hidden" name="client_id" value="@{config.clientId}" />
      <input type="hidden" id="logout-return-to" name="returnTo" value="http://localhost:9000/logout" />
    </form>
    <input type="hidden" id="csrf-token-val" value="@csrf.get.value"/>
    <input type="hidden" id="ws-url" value="@wsUrl"/>
    <input type="hidden" id="toggle-atsGarageTheme" value="@{uiToggles.atsGarageTheme}"/>
    <input type="hidden" id="toggle-autoFeatureActivation" value="@{uiToggles.autoFeatureActivation}"/>
    <!-- Hides user dropdown -->
    <input type="hidden" id="toggle-userProfileMenu" value="@{uiToggles.userProfileMenu}"/>
    <!-- Hides provisioning keys -->
    <input type="hidden" id="toggle-credentialsDownload" value="@{uiToggles.credentialsDownload}"/>
    <!-- Shows the pre-built link at the bottom of the "Provisioning keys" page -->
    <input type="hidden" id="toggle-prebuiltDebrpm" value="@{uiToggles.prebuiltDebrpm}"/>
    <!-- Shows legacy campaigns and packages if true -->
    <input type="hidden" id="toggle-legacyCampaigns" value="false"/>
    <div id="app"></div>
    <script src="@routes.Assets.versioned("js/app.js")"></script>
  </body>
</html>
