server = {
  host = "0.0.0.0"
  host = ${?HOST}
  port = 8080
  port = ${?PORT}
}

core {
  defaultNs = "default"
  defaultNs = ${?DEFAULT_NAMESPACE}
  s3 = {
    accessKey = ${?CORE_AWS_ACCESS_KEY}
    secretKey = ${?CORE_AWS_SECRET_KEY}
    bucketId = ${?CORE_AWS_S3_BUCKET_ID}
  }
}

resolver = {
  baseUri = "http://localhost:8081"
  baseUri = ${?RESOLVER_API_URI}
  packagesUri = ${resolver.baseUri}"/api/v1/packages"
  resolveUri = ${resolver.baseUri}"/api/v1/resolve"
  vehiclesUri = ${resolver.baseUri}"/api/v1/vehicles"
}

upload {
  //mediaTypes = ["application/x-rpm", "application/x-redhat-package-manager", "application/binary", "application/octet-stream"]
  store = "/tmp/"
}

packages = {
  versionFormat = """^\d+\.\d+\.\d+$"""
  versionFormat = ${?PACKAGES_VERSION_FORMAT}
  absolutePath = "/usr/local/packages"
  absolutePath = ${?PACKAGES_PATH}
  extension = "rpm"
  extension = ${?PACKAGES_EXTENSION}
  checksumExtension = "sha1"
  checksumExtension = ${?PACKAGES_CHECKSUM_EXTENSION}
}

database = {
  driver = "org.mariadb.jdbc.Driver"
  url = "jdbc:mariadb://localhost:3306/sota_core"
  url = ${?CORE_DB_URL}
  properties {
    user = "sota"
    user = ${?CORE_DB_USER}
    password = "s0ta"
    password = ${?CORE_DB_PASSWORD}
  }
  numThreads = 10
  migrate = false
  migrate = ${?CORE_DB_MIGRATE}
}

token {
  secret = "AyM1SysPpbyDfgZld3umj1qzKObwVMkoqQ-EstJQLr_T-1qS0gZH75aKtMN3Yj0iPS4hcgUuTwjAzZr1Z9CAow"
  secret = ${?JWT_SECRET}
}